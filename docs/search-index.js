crystal_doc_search_index_callback({"repository_name":"dogehouse_cr","body":"# dogehouse_cr\n\nA dogehouse wrapper for crystal\n\n## [Docs](http://docs.will.tools/docs/)\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     dogehouse_cr:\n       github: willdoescode/dogehouse_cr\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"dogehouse_cr\"\n```\n\nTODO: Write usage instructions here\n\n## Development\n\nTODO: Write development instructions here\n\n## Contributing\n\n1. Fork it (<https://github.com/willdoescode/dogehouse_cr/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Will Lane](https://github.com/willdoescode) - creator and maintainer\n","program":{"html_id":"dogehouse_cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[{"html_id":"dogehouse_cr/Spec/Methods","kind":"module","full_name":"Spec::Methods","name":"Methods"},{"html_id":"dogehouse_cr/Spec/Expectations","kind":"module","full_name":"Spec::Expectations","name":"Expectations"}],"locations":[],"repository_name":"dogehouse_cr","program":true,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[{"id":"API_URL","name":"API_URL","value":"\"wss://api.dogehouse.tv/socket\"","doc":null,"summary":null},{"id":"PING_TIMEOUT","name":"PING_TIMEOUT","value":"8","doc":null,"summary":null}],"included_modules":[{"html_id":"dogehouse_cr/Spec/Expectations","kind":"module","full_name":"Spec::Expectations","name":"Expectations"},{"html_id":"dogehouse_cr/Spec/Methods","kind":"module","full_name":"Spec::Methods","name":"Methods"}],"extended_modules":[{"html_id":"dogehouse_cr/Spec/Expectations","kind":"module","full_name":"Spec::Expectations","name":"Expectations"},{"html_id":"dogehouse_cr/Spec/Methods","kind":"module","full_name":"Spec::Methods","name":"Methods"}],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"decode_message(message:Array(Hash(String,JSON::Any))):String-class-method","html_id":"decode_message(message:Array(Hash(String,JSON::Any))):String-class-method","name":"decode_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"Array(Hash(String, JSON::Any))"}],"args_string":"(message : Array(Hash(String, JSON::Any))) : String","args_html":"(message : Array(Hash(String, JSON::Any))) : String","location":{"filename":"src/dogehouse_cr/utils/tokenizer.cr","line_number":15,"url":null},"def":{"name":"decode_message","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"Array(Hash(String, JSON::Any))"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"message.map do |word|\n  if word[\"t\"] == \"mention\"\n    \"@#{word[\"v\"].as_s}\"\n  else\n    if word[\"t\"] == \"link\"\n      word[\"v\"].as_s\n    else\n      word[\"v\"].as_s\n    end\n  end\nend.join(\" \")"}},{"id":"encode_message(message:String)-class-method","html_id":"encode_message(message:String)-class-method","name":"encode_message","doc":null,"summary":null,"abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"args_string":"(message : String)","args_html":"(message : String)","location":{"filename":"src/dogehouse_cr/utils/tokenizer.cr","line_number":3,"url":null},"def":{"name":"encode_message","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"(message.split(\" \")).map do |word|\n  if word.starts_with?(\"@\")\n    {type: \"mention\", value: word[1..]}\n  else\n    if word.starts_with?(\"https\")\n      {type: \"link\", value: word}\n    else\n      {type: \"text\", value: word}\n    end\n  end\nend"}}],"constructors":[],"instance_methods":[],"macros":[],"types":[{"html_id":"dogehouse_cr/Context","path":"Context.html","kind":"class","full_name":"Context","name":"Context","abstract":false,"superclass":{"html_id":"dogehouse_cr/DogeEntity","kind":"class","full_name":"DogeEntity","name":"DogeEntity"},"ancestors":[{"html_id":"dogehouse_cr/DogeEntity","kind":"class","full_name":"DogeEntity","name":"DogeEntity"},{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"dogehouse_cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dogehouse_cr/entity.cr","line_number":39,"url":null}],"repository_name":"dogehouse_cr","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(ws:HTTP::WebSocket)-class-method","html_id":"new(ws:HTTP::WebSocket)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"args_string":"(ws : HTTP::WebSocket)","args_html":"(ws : HTTP::WebSocket)","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":42,"url":null},"def":{"name":"new","args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(ws)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"ws:HTTP::WebSocket-instance-method","html_id":"ws:HTTP::WebSocket-instance-method","name":"ws","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : HTTP::WebSocket","args_html":" : HTTP::WebSocket","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":40,"url":null},"def":{"name":"ws","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"HTTP::WebSocket","visibility":"Public","body":"@ws"}},{"id":"ws=(ws:HTTP::WebSocket)-instance-method","html_id":"ws=(ws:HTTP::WebSocket)-instance-method","name":"ws=","doc":null,"summary":null,"abstract":false,"args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"args_string":"(ws : HTTP::WebSocket)","args_html":"(ws : HTTP::WebSocket)","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":40,"url":null},"def":{"name":"ws=","args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws = ws"}}],"macros":[],"types":[]},{"html_id":"dogehouse_cr/DogeEntity","path":"DogeEntity.html","kind":"class","full_name":"DogeEntity","name":"DogeEntity","abstract":false,"superclass":{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"dogehouse_cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dogehouse_cr/entity.cr","line_number":4,"url":null}],"repository_name":"dogehouse_cr","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[{"html_id":"dogehouse_cr/Context","kind":"class","full_name":"Context","name":"Context"},{"html_id":"dogehouse_cr/DogehouseCr/Client","kind":"class","full_name":"DogehouseCr::Client","name":"Client"}],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[{"id":"join_room(roomId:String)-instance-method","html_id":"join_room(roomId:String)-instance-method","name":"join_room","doc":"Join room will join the room associated with a roomId\n```\nclient.join_room \"roomid\"\n```","summary":"<p>Join room will join the room associated with a roomId <code></code>` client.join_room \"roomid\" <code></code>`</p>","abstract":false,"args":[{"name":"roomId","doc":null,"default_value":"","external_name":"roomId","restriction":"String"}],"args_string":"(roomId : String)","args_html":"(roomId : String)","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":25,"url":null},"def":{"name":"join_room","args":[{"name":"roomId","doc":null,"default_value":"","external_name":"roomId","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws.send({\"op\" => \"room:join\", \"d\" => {\"roomId\" => roomId}, \"ref\" => \"[uuid]\", \"v\" => \"0.2.0\"}.to_json)"}},{"id":"send_message(message:String)-instance-method","html_id":"send_message(message:String)-instance-method","name":"send_message","doc":"Sends message to whatever room currently in\n```\nclient.send_message \"msg\"\n```","summary":"<p>Sends message to whatever room currently in <code></code>` client.send_message \"msg\" <code></code>`</p>","abstract":false,"args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"args_string":"(message : String)","args_html":"(message : String)","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":9,"url":null},"def":{"name":"send_message","args":[{"name":"message","doc":null,"default_value":"","external_name":"message","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws.send({\"op\" => \"chat:send_msg\", \"d\" => {\"tokens\" => encode_message(message)}, \"v\" => \"0.2.0\"}.to_json)"}}],"macros":[],"types":[]},{"html_id":"dogehouse_cr/DogehouseCr","path":"DogehouseCr.html","kind":"module","full_name":"DogehouseCr","name":"DogehouseCr","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"src/dogehouse_cr.cr","line_number":3,"url":null},{"filename":"src/dogehouse_cr/user.cr","line_number":4,"url":null}],"repository_name":"dogehouse_cr","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(token:String,refreshToken:String)-class-method","html_id":"new(token:String,refreshToken:String)-class-method","name":"new","doc":"Create a new client with yoru token and refreshToken\n```\nclient = DogehouseCr \"token\", \"refreshToken\"\n```","summary":"<p>Create a new client with yoru token and refreshToken <code></code>` client = DogehouseCr \"token\", \"refreshToken\" <code></code>`</p>","abstract":false,"args":[{"name":"token","doc":null,"default_value":"","external_name":"token","restriction":"String"},{"name":"refreshToken","doc":null,"default_value":"","external_name":"refreshToken","restriction":"String"}],"args_string":"(token : String, refreshToken : String)","args_html":"(token : String, refreshToken : String)","location":{"filename":"src/dogehouse_cr.cr","line_number":8,"url":null},"def":{"name":"new","args":[{"name":"token","doc":null,"default_value":"","external_name":"token","restriction":"String"},{"name":"refreshToken","doc":null,"default_value":"","external_name":"refreshToken","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"Client.new(token, refreshToken)"}}],"instance_methods":[],"macros":[],"types":[{"html_id":"dogehouse_cr/DogehouseCr/Client","path":"DogehouseCr/Client.html","kind":"class","full_name":"DogehouseCr::Client","name":"Client","abstract":false,"superclass":{"html_id":"dogehouse_cr/DogeEntity","kind":"class","full_name":"DogeEntity","name":"DogeEntity"},"ancestors":[{"html_id":"dogehouse_cr/DogeEntity","kind":"class","full_name":"DogeEntity","name":"DogeEntity"},{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"dogehouse_cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dogehouse_cr/client.cr","line_number":12,"url":null}],"repository_name":"dogehouse_cr","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"dogehouse_cr/DogehouseCr","kind":"module","full_name":"DogehouseCr","name":"DogehouseCr"},"doc":"Base dogehouse cilent to interface with api with","summary":"<p>Base dogehouse cilent to interface with api with</p>","class_methods":[],"constructors":[{"id":"new(token:String,refresh_token:String)-class-method","html_id":"new(token:String,refresh_token:String)-class-method","name":"new","doc":"Client takes your dogehouse token and refreshToken in order to auth","summary":"<p>Client takes your dogehouse token and refreshToken in order to auth</p>","abstract":false,"args":[{"name":"token","doc":null,"default_value":"","external_name":"token","restriction":"String"},{"name":"refresh_token","doc":null,"default_value":"","external_name":"refresh_token","restriction":"String"}],"args_string":"(token : String, refresh_token : String)","args_html":"(token : String, refresh_token : String)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":50,"url":null},"def":{"name":"new","args":[{"name":"token","doc":null,"default_value":"","external_name":"token","restriction":"String"},{"name":"refresh_token","doc":null,"default_value":"","external_name":"refresh_token","restriction":"String"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(token, refresh_token)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"all_callback:Context,String->Nil?-instance-method","html_id":"all_callback:Context,String->Nil?-instance-method","name":"all_callback","doc":"All messages will be sent through this callback.\n```\nclient.on_all do |context, msg|\n  puts msg\nend\n```","summary":"<p>All messages will be sent through this callback.</p>","abstract":false,"args":[],"args_string":" : Context, String -> Nil?","args_html":" : <a href=\"../Context.html\">Context</a>, String -> Nil?","location":{"filename":"src/dogehouse_cr/client.cr","line_number":40,"url":null},"def":{"name":"all_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"(Context, String -> Nil) | ::Nil","visibility":"Public","body":"@all_callback"}},{"id":"all_callback=(all_callback:Context,String->Nil?)-instance-method","html_id":"all_callback=(all_callback:Context,String->Nil?)-instance-method","name":"all_callback=","doc":"All messages will be sent through this callback.\n```\nclient.on_all do |context, msg|\n  puts msg\nend\n```","summary":"<p>All messages will be sent through this callback.</p>","abstract":false,"args":[{"name":"all_callback","doc":null,"default_value":"","external_name":"all_callback","restriction":"(Context, String -> Nil) | ::Nil"}],"args_string":"(all_callback : Context, String -> Nil?)","args_html":"(all_callback : <a href=\"../Context.html\">Context</a>, String -> Nil?)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":40,"url":null},"def":{"name":"all_callback=","args":[{"name":"all_callback","doc":null,"default_value":"","external_name":"all_callback","restriction":"(Context, String -> Nil) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@all_callback = all_callback"}},{"id":"join_room_callback:Context,Room->Nil?-instance-method","html_id":"join_room_callback:Context,Room->Nil?-instance-method","name":"join_room_callback","doc":"When room is joined this callback will be called\n```\nclient.on_room_join do |context, room|\n  puts room.name\n```","summary":"<p>When room is joined this callback will be called <code></code>` client.on_room_join do |context, room|   puts room.name <code></code>`</p>","abstract":false,"args":[],"args_string":" : Context, Room -> Nil?","args_html":" : <a href=\"../Context.html\">Context</a>, <a href=\"../Room.html\">Room</a> -> Nil?","location":{"filename":"src/dogehouse_cr/client.cr","line_number":47,"url":null},"def":{"name":"join_room_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"(Context, Room -> Nil) | ::Nil","visibility":"Public","body":"@join_room_callback"}},{"id":"join_room_callback=(join_room_callback:Context,Room->Nil?)-instance-method","html_id":"join_room_callback=(join_room_callback:Context,Room->Nil?)-instance-method","name":"join_room_callback=","doc":"When room is joined this callback will be called\n```\nclient.on_room_join do |context, room|\n  puts room.name\n```","summary":"<p>When room is joined this callback will be called <code></code>` client.on_room_join do |context, room|   puts room.name <code></code>`</p>","abstract":false,"args":[{"name":"join_room_callback","doc":null,"default_value":"","external_name":"join_room_callback","restriction":"(Context, Room -> Nil) | ::Nil"}],"args_string":"(join_room_callback : Context, Room -> Nil?)","args_html":"(join_room_callback : <a href=\"../Context.html\">Context</a>, <a href=\"../Room.html\">Room</a> -> Nil?)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":47,"url":null},"def":{"name":"join_room_callback=","args":[{"name":"join_room_callback","doc":null,"default_value":"","external_name":"join_room_callback","restriction":"(Context, Room -> Nil) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@join_room_callback = join_room_callback"}},{"id":"message_callback:Context,String->Nil?-instance-method","html_id":"message_callback:Context,String->Nil?-instance-method","name":"message_callback","doc":"Optional message_callback property\nAdd a message callback function with .on_message\n```\nclient.on_message do |context, msg|\n  puts msg\nend\n```","summary":"<p>Optional message_callback property Add a message callback function with .on_message <code></code>` client.on_message do |context, msg|   puts msg end <code></code>`</p>","abstract":false,"args":[],"args_string":" : Context, String -> Nil?","args_html":" : <a href=\"../Context.html\">Context</a>, String -> Nil?","location":{"filename":"src/dogehouse_cr/client.cr","line_number":23,"url":null},"def":{"name":"message_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"(Context, String -> Nil) | ::Nil","visibility":"Public","body":"@message_callback"}},{"id":"message_callback=(message_callback:Context,String->Nil?)-instance-method","html_id":"message_callback=(message_callback:Context,String->Nil?)-instance-method","name":"message_callback=","doc":"Optional message_callback property\nAdd a message callback function with .on_message\n```\nclient.on_message do |context, msg|\n  puts msg\nend\n```","summary":"<p>Optional message_callback property Add a message callback function with .on_message <code></code>` client.on_message do |context, msg|   puts msg end <code></code>`</p>","abstract":false,"args":[{"name":"message_callback","doc":null,"default_value":"","external_name":"message_callback","restriction":"(Context, String -> Nil) | ::Nil"}],"args_string":"(message_callback : Context, String -> Nil?)","args_html":"(message_callback : <a href=\"../Context.html\">Context</a>, String -> Nil?)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":23,"url":null},"def":{"name":"message_callback=","args":[{"name":"message_callback","doc":null,"default_value":"","external_name":"message_callback","restriction":"(Context, String -> Nil) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@message_callback = message_callback"}},{"id":"on_all(&block:Context,String->Nil)-instance-method","html_id":"on_all(&block:Context,String->Nil)-instance-method","name":"on_all","doc":"Add all callback\nAll messages recieved in the client will be sent through this callback\n```\nclient.on_all do |context, msg|\n  puts msg\nend\n```","summary":"<p>Add all callback All messages recieved in the client will be sent through this callback <code></code>` client.on_all do |context, msg|   puts msg end <code></code>`</p>","abstract":false,"args":[],"args_string":"(&block : Context, String -> Nil)","args_html":"(&block : <a href=\"../Context.html\">Context</a>, String -> Nil)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":101,"url":null},"def":{"name":"on_all","args":[],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Context, String -> Nil)"},"return_type":"","visibility":"Public","body":"@all_callback = block"}},{"id":"on_message(&block:Context,String->Nil)-instance-method","html_id":"on_message(&block:Context,String->Nil)-instance-method","name":"on_message","doc":"Add a message callback\non_message takes block with context parameter and String parameter\n```\nclient.on_message do |context, msg|\n  puts msg\nend\n```","summary":"<p>Add a message callback on_message takes block with context parameter and String parameter <code></code>` client.on_message do |context, msg|   puts msg end <code></code>`</p>","abstract":false,"args":[],"args_string":"(&block : Context, String -> Nil)","args_html":"(&block : <a href=\"../Context.html\">Context</a>, String -> Nil)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":79,"url":null},"def":{"name":"on_message","args":[],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Context, String -> Nil)"},"return_type":"","visibility":"Public","body":"@message_callback = block"}},{"id":"on_ping(&block:Context->Nil)-instance-method","html_id":"on_ping(&block:Context->Nil)-instance-method","name":"on_ping","doc":"Add a ping callback\non_ping takes block with context parameter\n```\nclient.on_ping do |context|\n  puts \"ping\"\nend\n```","summary":"<p>Add a ping callback on_ping takes block with context parameter <code></code>` client.on_ping do |context|   puts \"ping\" end <code></code>`</p>","abstract":false,"args":[],"args_string":"(&block : Context -> Nil)","args_html":"(&block : <a href=\"../Context.html\">Context</a> -> Nil)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":90,"url":null},"def":{"name":"on_ping","args":[],"double_splat":null,"splat_index":null,"yields":1,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Context -> Nil)"},"return_type":"","visibility":"Public","body":"@ping_callback = block"}},{"id":"on_room_join(&block:Context,Room->Nil)-instance-method","html_id":"on_room_join(&block:Context,Room->Nil)-instance-method","name":"on_room_join","doc":"Add room join callback\n```\nclient.on_room_join do |context, room|\n  puts room.name\n```","summary":"<p>Add room join callback <code></code>` client.on_room_join do |context, room|   puts room.name <code></code>`</p>","abstract":false,"args":[],"args_string":"(&block : Context, Room -> Nil)","args_html":"(&block : <a href=\"../Context.html\">Context</a>, <a href=\"../Room.html\">Room</a> -> Nil)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":110,"url":null},"def":{"name":"on_room_join","args":[],"double_splat":null,"splat_index":null,"yields":2,"block_arg":{"name":"block","doc":null,"default_value":"","external_name":"block","restriction":"(Context, Room -> Nil)"},"return_type":"","visibility":"Public","body":"@room_join_callback = block"}},{"id":"ping_callback:Context->Nil?-instance-method","html_id":"ping_callback:Context->Nil?-instance-method","name":"ping_callback","doc":"Optional ping_callback property\nAdd a message callback function with .on_ping\n```\nclient.on_ping do |context|\n  puts \"ping\"\nend\n```","summary":"<p>Optional ping_callback property Add a message callback function with .on_ping <code></code>` client.on_ping do |context|   puts \"ping\" end <code></code>`</p>","abstract":false,"args":[],"args_string":" : Context -> Nil?","args_html":" : <a href=\"../Context.html\">Context</a> -> Nil?","location":{"filename":"src/dogehouse_cr/client.cr","line_number":32,"url":null},"def":{"name":"ping_callback","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"(Context -> Nil) | ::Nil","visibility":"Public","body":"@ping_callback"}},{"id":"ping_callback=(ping_callback:Context->Nil?)-instance-method","html_id":"ping_callback=(ping_callback:Context->Nil?)-instance-method","name":"ping_callback=","doc":"Optional ping_callback property\nAdd a message callback function with .on_ping\n```\nclient.on_ping do |context|\n  puts \"ping\"\nend\n```","summary":"<p>Optional ping_callback property Add a message callback function with .on_ping <code></code>` client.on_ping do |context|   puts \"ping\" end <code></code>`</p>","abstract":false,"args":[{"name":"ping_callback","doc":null,"default_value":"","external_name":"ping_callback","restriction":"(Context -> Nil) | ::Nil"}],"args_string":"(ping_callback : Context -> Nil?)","args_html":"(ping_callback : <a href=\"../Context.html\">Context</a> -> Nil?)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":32,"url":null},"def":{"name":"ping_callback=","args":[{"name":"ping_callback","doc":null,"default_value":"","external_name":"ping_callback","restriction":"(Context -> Nil) | ::Nil"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ping_callback = ping_callback"}},{"id":"raw_send(msg)-instance-method","html_id":"raw_send(msg)-instance-method","name":"raw_send","doc":"Send raw messages api without wrapper","summary":"<p>Send raw messages api without wrapper</p>","abstract":false,"args":[{"name":"msg","doc":null,"default_value":"","external_name":"msg","restriction":""}],"args_string":"(msg)","args_html":"(msg)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":68,"url":null},"def":{"name":"raw_send","args":[{"name":"msg","doc":null,"default_value":"","external_name":"msg","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws.send(msg)"}},{"id":"run-instance-method","html_id":"run-instance-method","name":"run","doc":"Run the client\nThis will start the message loop","summary":"<p>Run the client This will start the message loop</p>","abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/dogehouse_cr/client.cr","line_number":168,"url":null},"def":{"name":"run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"setup_run\n@ws.run\n"}},{"id":"setup_run-instance-method","html_id":"setup_run-instance-method","name":"setup_run","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","args_html":"","location":{"filename":"src/dogehouse_cr/client.cr","line_number":114,"url":null},"def":{"name":"setup_run","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws.on_message do |msg|\n  if !@all_callback.nil?\n    @all_callback.not_nil!.call(Context.new(@ws), msg)\n  end\n  if msg == \"pong\"\n    if !@ping_callback.nil?\n      @ping_callback.not_nil!.call(Context.new(@ws))\n    end\n    next\n  end\n  msg_json = Hash(String, JSON::Any).from_json(msg)\n  if msg_json[\"op\"]?\n    if msg_json[\"op\"] == \"new_chat_msg\"\n      if !@message_callback.nil?\n        @message_callback.not_nil!.call(Context.new(@ws), decode_message(msg_json[\"d\"].as_h[\"msg\"].as_h[\"tokens\"].as_a.map do |a|\n          a.as_h\n        end))\n      end\n    else\n      if msg_json[\"op\"] == \"room:join:reply\"\n        payload = msg_json[\"p\"].as_h\n        if !@room_join_callback.nil?\n          @room_join_callback.not_nil!.call(Context.new(@ws), Room.new(payload[\"id\"].as_s, payload[\"name\"].as_s, payload[\"description\"].as_s, payload[\"isPrivate\"].as_bool))\n        end\n      end\n    end\n  end\nend\nspawn do\n  loop do\n    @ws.send(\"ping\")\n    sleep(PING_TIMEOUT)\n  end\nend\n"}},{"id":"test_run(time:Int)-instance-method","html_id":"test_run(time:Int)-instance-method","name":"test_run","doc":"This function should only be used for testing purposes","summary":"<p>This function should only be used for testing purposes</p>","abstract":false,"args":[{"name":"time","doc":null,"default_value":"","external_name":"time","restriction":"Int"}],"args_string":"(time : Int)","args_html":"(time : Int)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":175,"url":null},"def":{"name":"test_run","args":[{"name":"time","doc":null,"default_value":"","external_name":"time","restriction":"Int"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"setup_run\nspawn do\n  @ws.run\nend\nsleep(time)\nreturn\n"}},{"id":"ws:HTTP::WebSocket-instance-method","html_id":"ws:HTTP::WebSocket-instance-method","name":"ws","doc":"Websocket connection state","summary":"<p>Websocket connection state</p>","abstract":false,"args":[],"args_string":" : HTTP::WebSocket","args_html":" : HTTP::WebSocket","location":{"filename":"src/dogehouse_cr/client.cr","line_number":14,"url":null},"def":{"name":"ws","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"HTTP::WebSocket","visibility":"Public","body":"@ws"}},{"id":"ws=(ws:HTTP::WebSocket)-instance-method","html_id":"ws=(ws:HTTP::WebSocket)-instance-method","name":"ws=","doc":"Websocket connection state","summary":"<p>Websocket connection state</p>","abstract":false,"args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"args_string":"(ws : HTTP::WebSocket)","args_html":"(ws : HTTP::WebSocket)","location":{"filename":"src/dogehouse_cr/client.cr","line_number":14,"url":null},"def":{"name":"ws=","args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws = ws"}}],"macros":[],"types":[]},{"html_id":"dogehouse_cr/DogehouseCr/User","path":"DogehouseCr/User.html","kind":"class","full_name":"DogehouseCr::User","name":"User","abstract":false,"superclass":{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"dogehouse_cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dogehouse_cr/user.cr","line_number":4,"url":null}],"repository_name":"dogehouse_cr","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":{"html_id":"dogehouse_cr/DogehouseCr","kind":"module","full_name":"DogehouseCr","name":"DogehouseCr"},"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(ws:HTTP::WebSocket)-class-method","html_id":"new(ws:HTTP::WebSocket)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"args_string":"(ws : HTTP::WebSocket)","args_html":"(ws : HTTP::WebSocket)","location":{"filename":"src/dogehouse_cr/user.cr","line_number":7,"url":null},"def":{"name":"new","args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(ws)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"ws:HTTP::WebSocket-instance-method","html_id":"ws:HTTP::WebSocket-instance-method","name":"ws","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : HTTP::WebSocket","args_html":" : HTTP::WebSocket","location":{"filename":"src/dogehouse_cr/user.cr","line_number":5,"url":null},"def":{"name":"ws","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"HTTP::WebSocket","visibility":"Public","body":"@ws"}},{"id":"ws=(ws:HTTP::WebSocket)-instance-method","html_id":"ws=(ws:HTTP::WebSocket)-instance-method","name":"ws=","doc":null,"summary":null,"abstract":false,"args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"args_string":"(ws : HTTP::WebSocket)","args_html":"(ws : HTTP::WebSocket)","location":{"filename":"src/dogehouse_cr/user.cr","line_number":5,"url":null},"def":{"name":"ws=","args":[{"name":"ws","doc":null,"default_value":"","external_name":"ws","restriction":"HTTP::WebSocket"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"@ws = ws"}}],"macros":[],"types":[]}]},{"html_id":"dogehouse_cr/Room","path":"Room.html","kind":"class","full_name":"Room","name":"Room","abstract":false,"superclass":{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"dogehouse_cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"dogehouse_cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/dogehouse_cr/entity.cr","line_number":46,"url":null}],"repository_name":"dogehouse_cr","program":false,"enum":false,"alias":false,"aliased":null,"aliased_html":null,"const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[{"id":"new(id:String,name:String,description:String,is_private:Bool)-class-method","html_id":"new(id:String,name:String,description:String,is_private:Bool)-class-method","name":"new","doc":null,"summary":null,"abstract":false,"args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":"String"},{"name":"is_private","doc":null,"default_value":"","external_name":"is_private","restriction":"Bool"}],"args_string":"(id : String, name : String, description : String, is_private : Bool)","args_html":"(id : String, name : String, description : String, is_private : Bool)","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":52,"url":null},"def":{"name":"new","args":[{"name":"id","doc":null,"default_value":"","external_name":"id","restriction":"String"},{"name":"name","doc":null,"default_value":"","external_name":"name","restriction":"String"},{"name":"description","doc":null,"default_value":"","external_name":"description","restriction":"String"},{"name":"is_private","doc":null,"default_value":"","external_name":"is_private","restriction":"Bool"}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"_ = allocate\n_.initialize(id, name, description, is_private)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"id":"description:String-instance-method","html_id":"description:String-instance-method","name":"description","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":49,"url":null},"def":{"name":"description","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@description"}},{"id":"id:String-instance-method","html_id":"id:String-instance-method","name":"id","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":47,"url":null},"def":{"name":"id","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@id"}},{"id":"is_private:Bool-instance-method","html_id":"is_private:Bool-instance-method","name":"is_private","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : Bool","args_html":" : Bool","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":50,"url":null},"def":{"name":"is_private","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Bool","visibility":"Public","body":"@is_private"}},{"id":"name:String-instance-method","html_id":"name:String-instance-method","name":"name","doc":null,"summary":null,"abstract":false,"args":[],"args_string":" : String","args_html":" : String","location":{"filename":"src/dogehouse_cr/entity.cr","line_number":48,"url":null},"def":{"name":"name","args":[],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"String","visibility":"Public","body":"@name"}}],"macros":[],"types":[]}]}})